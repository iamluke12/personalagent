#!/usr/bin/env python3
"""
PersonalAgent Security Audit Entry Point
Quick access to security audit functionality
"""

import sys
from pathlib import Path

# Add src to path
script_dir = Path(__file__).parent
src_dir = script_dir.parent / "src"
sys.path.insert(0, str(src_dir))

from utils.security_audit import SecurityAuditor

def main():
    """Main entry point for security audit"""
    project_root = script_dir.parent
    auditor = SecurityAuditor(project_root)
    report = auditor.run_full_audit()
    
    # Save report
    report_file = project_root / "security_audit_report.json"
    import json
    with open(report_file, 'w') as f:
        json.dump(report, f, indent=2)
    
    print(f"\nðŸ“„ Detailed report saved to: {report_file}")
    
    # Exit with appropriate code
    sys.exit(0 if report['ready_for_release'] else 1)

if __name__ == "__main__":
    main()
